
## TypeScript Node å…¥é—¨ [![translate-svg]][translate-list]

[translate-svg]: http://llever.com/translate.svg
[translate-list]: https://github.com/chinanf-boy/chinese-translate-list

## æ ¡å¯¹ âœ…

<!-- doc-templite START generated -->
<!-- repo = 'Microsoft/TypeScript-Node-Starter' -->
<!-- commit = 'c8a2c2d40e9f4749cd5e28a41a947da851010179' -->
<!-- time = '2018-7-20' -->
ç¿»è¯‘çš„åŸæ–‡ | ä¸æ—¥æœŸ | æœ€æ–°æ›´æ–° | æ›´å¤š
---|---|---|---
[commit] | â° 2018-7-20 | ![last] | [ä¸­æ–‡ç¿»è¯‘][translate-list]

[last]: https://img.shields.io/github/last-commit/Microsoft/TypeScript-Node-Starter.svg
[commit]: https://github.com/Microsoft/TypeScript-Node-Starter/tree/c8a2c2d40e9f4749cd5e28a41a947da851010179

<!-- doc-templite END generated -->

### è´¡çŒ®

æ¬¢è¿ ğŸ‘ å‹˜è¯¯/æ ¡å¯¹/æ›´æ–°è´¡çŒ® ğŸ˜Š [å…·ä½“è´¡çŒ®è¯·çœ‹](https://github.com/chinanf-boy/chinese-translate-list#è´¡çŒ®)

## ç”Ÿæ´»

[help me live , live need money ğŸ’°](https://github.com/chinanf-boy/live-need-money)


<details>

<summary> <b>ç›®å½• ã€Š__ ^_^ </b> </summary>

<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->


- [TypeScript Node Starter](#typescript-node-starter)
- [é¢„å¤‡](#%E9%A2%84%E5%A4%87)
- [å…¥é—¨](#%E5%85%A5%E9%97%A8)
- [éƒ¨ç½²åº”ç”¨ç¨‹åº](#%E9%83%A8%E7%BD%B2%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F)
  - [é¢„å¤‡å‘å¸ƒ](#%E9%A2%84%E5%A4%87%E5%8F%91%E5%B8%83)
    - [<a name="mlab"></a> ä½¿ç”¨ MongoLab åˆ›å»º æ‰˜ç®¡çš„MongoDB](#a-namemlaba-%E4%BD%BF%E7%94%A8-mongolab-%E5%88%9B%E5%BB%BA-%E6%89%98%E7%AE%A1%E7%9A%84mongodb)
  - [éƒ¨ç½²åˆ° Azure App Service](#%E9%83%A8%E7%BD%B2%E5%88%B0-azure-app-service)
    - [ç™»å½•æ‚¨çš„Azureå¸æˆ·](#%E7%99%BB%E5%BD%95%E6%82%A8%E7%9A%84azure%E5%B8%90%E6%88%B7)
    - [æ„å»ºåº”ç”¨ç¨‹åº](#%E6%9E%84%E5%BB%BA%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F)
    - [ä»VS Codeè¿›è¡ŒZipéƒ¨ç½²](#%E4%BB%8Evs-code%E8%BF%9B%E8%A1%8Czip%E9%83%A8%E7%BD%B2)
    - [æ’é™¤æ•…éšœéƒ¨ç½²](#%E6%8E%92%E9%99%A4%E6%95%85%E9%9A%9C%E9%83%A8%E7%BD%B2)
- [TypeScript + Node](#typescript--node)
  - [è·å–TypeScript](#%E8%8E%B7%E5%8F%96typescript)
  - [é¡¹ç›®ç»“æ„](#%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84)
  - [å»ºç«‹é¡¹ç›®](#%E5%BB%BA%E7%AB%8B%E9%A1%B9%E7%9B%AE)
    - [é…ç½®TypeScriptç¼–è¯‘](#%E9%85%8D%E7%BD%AEtypescript%E7%BC%96%E8%AF%91)
    - [è¿è¡Œæ„å»º](#%E8%BF%90%E8%A1%8C%E6%9E%84%E5%BB%BA)
  - [ç±»å‹å®šä¹‰ (`.d.ts`) æ–‡ä»¶](#%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89-dts-%E6%96%87%E4%BB%B6)
    - [ä» DefinitelyTyped å®‰è£…`.d.ts`](#%E4%BB%8E-definitelytyped-%E5%AE%89%E8%A3%85dts)
    - [å¦‚æœåº“ä¸åœ¨ DefinitelyTyped ä¸Šæ€ä¹ˆåŠ?](#%E5%A6%82%E6%9E%9C%E5%BA%93%E4%B8%8D%E5%9C%A8-definitelytyped-%E4%B8%8A%E6%80%8E%E4%B9%88%E5%8A%9E)
      - [è®¾ç½®TypeScript è¦æŸ¥æ‰¾çš„`.d.ts`æ˜¯åœ¨å¦ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­](#%E8%AE%BE%E7%BD%AEtypescript-%E8%A6%81%E6%9F%A5%E6%89%BE%E7%9A%84dts%E6%98%AF%E5%9C%A8%E5%8F%A6%E4%B8%80%E4%B8%AA%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%AD)
      - [ä½¿ç”¨`dts-gen`](#%E4%BD%BF%E7%94%A8dts-gen)
      - [å†™ä¸€ä¸ª`.d.ts`æ–‡ä»¶](#%E5%86%99%E4%B8%80%E4%B8%AAdts%E6%96%87%E4%BB%B6)
      - [è´¡çŒ®äºDefinitelyTyped](#%E8%B4%A1%E7%8C%AE%E4%BA%8Edefinitelytyped)
    - [ç®¡ç†`.d.ts`çš„æ€»ç»“](#%E7%AE%A1%E7%90%86dts%E7%9A%84%E6%80%BB%E7%BB%93)
  - [è°ƒè¯•](#%E8%B0%83%E8%AF%95)
    - [æºæ˜ å°„](#%E6%BA%90%E6%98%A0%E5%B0%84)
      - [é…ç½®æºæ˜ å°„](#%E9%85%8D%E7%BD%AE%E6%BA%90%E6%98%A0%E5%B0%84)
    - [åœ¨VS Codeä¸­ä½¿ç”¨è°ƒè¯•å™¨](#%E5%9C%A8vs-code%E4%B8%AD%E4%BD%BF%E7%94%A8%E8%B0%83%E8%AF%95%E5%99%A8)
  - [æµ‹è¯•](#%E6%B5%8B%E8%AF%95)
    - [å®‰è£…ç»„ä»¶](#%E5%AE%89%E8%A3%85%E7%BB%84%E4%BB%B6)
    - [é…ç½®Jest](#%E9%85%8D%E7%BD%AEjest)
    - [è¿è¡Œæµ‹è¯•](#%E8%BF%90%E8%A1%8C%E6%B5%8B%E8%AF%95)
    - [å†™æµ‹è¯•](#%E5%86%99%E6%B5%8B%E8%AF%95)
  - [TSLint](#tslint)
    - [TSLintè§„åˆ™](#tslint%E8%A7%84%E5%88%99)
    - [è¿è¡ŒTSLint](#%E8%BF%90%E8%A1%8Ctslint)
    - [VSCodeæ‰©å±•](#vscode%E6%89%A9%E5%B1%95)
- [ä¾èµ–](#%E4%BE%9D%E8%B5%96)
  - [`dependencies`](#dependencies)
  - [`devDependencies`](#devdependencies)
- [é»‘å®¢é©¬æ‹‰æ¾ å…¥é—¨é¡¹ç›®](#%E9%BB%91%E5%AE%A2%E9%A9%AC%E6%8B%89%E6%9D%BE-%E5%85%A5%E9%97%A8%E9%A1%B9%E7%9B%AE)

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

</details>

# TypeScript Node Starter

[![Dependency Status](https://david-dm.org/Microsoft/TypeScript-Node-Starter.svg)](https://david-dm.org/Microsoft/TypeScript-Node-Starter) [![Build Status](https://travis-ci.org/Microsoft/TypeScript-Node-Starter.svg?branch=master)](https://travis-ci.org/Microsoft/TypeScript-Node-Starter) 

**ç°åœºæ¼”ç¤º**: <https://typescript-node-starter.azurewebsites.net/>

![image](https://user-images.githubusercontent.com/820883/36764267-abbdb7f8-1be0-11e8-9678-2a9ea448d7f8.png)

æ­¤å­˜å‚¨åº“çš„ä¸»è¦ç›®çš„æ˜¯,æ˜¾ç¤ºä¸€ä¸ªè‰¯å¥½çš„ ç«¯åˆ°ç«¯é¡¹ç›® è®¾ç½®å’Œå·¥ä½œæµç¨‹,ä»¥ä¾¿ç”¨TypeScript ç¼–å†™ Node ä»£ç . æˆ‘å°†å°½å¯èƒ½ä¿æŒæœ€æ–°,ä½†é¼“åŠ± ç¤¾åŒºè´¡çŒ®å’Œæ”¹è¿›å»ºè®®,å¹¶å°†éå¸¸æ¬¢è¿. 

# é¢„å¤‡

è¦åœ¨æœ¬åœ° æ„å»ºå’Œè¿è¡Œ æ­¤åº”ç”¨ç¨‹åº,æ‚¨å°†éœ€è¦ä¸€äº›ä¸œè¥¿: 

-   å®‰è£…[Node.js](https://nodejs.org/en/)
-   å®‰è£…[MongoDB](https://docs.mongodb.com/manual/installation/)
-   å®‰è£…[VS Code](https://code.visualstudio.com/)

# å…¥é—¨

-   å…‹éš†å­˜å‚¨åº“

``` bash
git clone --depth=1 https://github.com/Microsoft/TypeScript-Node-Starter.git <project_name>
```

-   å®‰è£…ä¾èµ–é¡¹


``` sh
    cd <project_name>
    npm install
```

-   é…ç½®æ‚¨çš„mongoDBæœåŠ¡å™¨

```bash
# åˆ›å»º dbç›®å½•
sudo mkdir -p /data/db
# ç»™ db æ­£ç¡®çš„è¯»/å†™æƒé™
sudo chmod 777 /data/db
```

-   å¯åŠ¨ä½ çš„ mongoDB æœåŠ¡å™¨ (ä½ å¯èƒ½æƒ³è¦å¦ä¸€ä¸ªå‘½ä»¤æç¤ºç¬¦) 

```
    mongod

```

-   æ„å»ºå¹¶è¿è¡Œé¡¹ç›®


```
    npm run build
    npm start

```

æˆ–è€…,å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯VS Code,åˆ™å¯ä»¥ä½¿ç”¨`cmd + shift + b`è¿è¡Œé»˜è®¤æ„å»ºä»»åŠ¡ (æ˜ å°„åˆ°`npm run build`) ,ç„¶åä½ å¯ä»¥ä½¿ç”¨ å‘½ä»¤è°ƒè‰²æ¿ (`cmd + shift + p`) å¹¶é€‰æ‹©`Tasks: Run Task`>`npm: start` ,æ¥å¸®ä½ ä½¿ç”¨`npm start`. 

> **å…³äºç¼–è¾‘çš„æ³¨æ„äº‹é¡¹!**-  TypeScript éå¸¸æ”¯æŒ[å¤§é‡ç¼–è¾‘å™¨](http://www.typescriptlang.org/index.html#download-links),ä½†æ­¤é¡¹ç›®å·²é¢„å…ˆé…ç½®ä½¿ç”¨[VS Code](https://code.visualstudio.com/). ä¸‹é¢,æˆ‘å°†å°è¯•æŒ–æ˜ VS Code çš„å‘å…‰å¤„,æˆ–è€… ç‰¹æ€§åŠŸèƒ½çš„ä¼˜åŠ¿. 

æœ€å,å¯¼èˆªåˆ°`http://localhost:3000`,ä½ åº”è¯¥çœ‹åˆ°åœ¨æœ¬åœ° æä¾›å’Œå‘ˆç° çš„æ¨¡æ¿!

# éƒ¨ç½²åº”ç”¨ç¨‹åº

æœ‰è®¸å¤šæ–¹æ³•å¯ä»¥éƒ¨ç½² Nodeåº”ç”¨ç¨‹åº,ä¸€èˆ¬è€Œè¨€,å°½ç®¡æ‚¨ä½¿ç”¨çš„æ˜¯ TypeScript,ä½†éƒ¨ç½²è¿‡ç¨‹ä¸ä¼šå‘ç”Ÿä»»ä½•å˜åŒ–. åœ¨æœ¬èŠ‚ä¸­,æˆ‘å°†å‘æ‚¨ä»‹ç»å¦‚ä½•ä½¿ç”¨VS Codeä¸­æä¾›çš„æ‰©å±• å°† æ­¤åº”ç”¨ç¨‹åº éƒ¨ç½²åˆ° Azure App Service,å› ä¸ºæˆ‘è®¤ä¸ºè¿™æ˜¯æœ€ç®€å•,æœ€å¿«é€Ÿçš„å…¥é—¨æ–¹å¼,ä»¥åŠé€è§† å¼€å‘äººå‘˜æœ€å‹å¥½çš„å·¥ä½œæµç¨‹. 

## é¢„å¤‡å‘å¸ƒ

-   [**Azure è´¦å·**](https://azure.microsoft.com/en-us/free/)- å¦‚æœæ‚¨æ²¡æœ‰,å¯ä»¥å…è´¹æ³¨å†Œ. Azureå…è´¹å¥—é¤ä¸ºæ‚¨æä¾›äº†å¤§é‡èµ„æº,åŒ…æ‹¬æœ€å¤š10ä¸ª App Service å®ä¾‹,è¿™å°±æ˜¯æˆ‘ä»¬å°†è¦ä½¿ç”¨çš„å®ä¾‹. 

> ä¸€èˆ¬, ä¸­å›½å¤§é™†æ²¡æœ‰`Visa å’Œ MasterCard`ä¿¡ç”¨å¡,æ³¨å†Œä¸äº† *2018 7.24* é‚£ä¹ˆä½ å¯ä»¥æƒ³ç›´æ¥è·³åˆ° [TypeScriptä¸Node](#typescript--node)

-   [**VS Code**](https://code.visualstudio.com/)- æˆ‘ä»¬å°†ä½¿ç”¨VS Codeæä¾›çš„ç•Œé¢æ¥å¿«é€Ÿéƒ¨ç½²æˆ‘ä»¬çš„åº”ç”¨ç¨‹åº. 
-   [**Azure App Service VS Code æ‰©å±•**](https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-azureappservice)- åœ¨VS Codeä¸­,æœç´¢`Azure App Service`åœ¨æ‰©å±•å¸‚åœºä¸­ (æœ€å·¦ä¾§èœå•æ ä¸Šçš„ç¬¬5ä¸ªæŒ‰é’®) ,å®‰è£…æ‰©å±•,ç„¶åé‡æ–°åŠ è½½VS Code. 
-   **åˆ›å»ºäº‘æ•°æ®åº“**- å¯¹äºæœ¬åœ°å¼€å‘,åœ¨ æœ¬æœºä¸Š è¿è¡Œ MongoDB å¾ˆå¥½,ä½†æ˜¯ä¸€æ—¦éƒ¨ç½²,æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå…·æœ‰é«˜å¯ç”¨æ€§çš„æ•°æ®åº“. å®ç°æ­¤ç›®çš„çš„æœ€ç®€å•æ–¹æ³•æ˜¯ä½¿ç”¨æ‰˜ç®¡äº‘æ•°æ®åº“. æœ‰è®¸å¤šä¸åŒçš„æä¾›å•†,ä½†æœ€å®¹æ˜“ä¸Šæ‰‹çš„æ˜¯[MongoLab](#mlab). 

### <a name="mlab"></a> ä½¿ç”¨ MongoLab åˆ›å»º æ‰˜ç®¡çš„MongoDB

1.  å¯¼èˆª[MongoLab's Website](https://mlab.com/),æ³¨å†Œä¸€ä¸ªå…è´¹å¸æˆ·,ç„¶åç™»å½•. 
2.  åœ¨é‡Œé¢ **MongoDBéƒ¨ç½²**éƒ¨åˆ†,å•å‡» **åˆ›å»ºæ–°çš„**æŒ‰é’®. 
3.  é€‰æ‹©ä»»ä½•æä¾›å•† (æˆ‘æ¨è **Microsoft Azure**å› ä¸ºå®ƒæä¾›äº†ä¸€ç§æ›´ç®€å•çš„æ–¹æ³•æ¥å‡çº§åˆ°å…¨çƒåˆ†å¸ƒå¼å®ä¾‹. 

4.  é€‰æ‹©**Sandbox**ä¿æŒè‡ªç”±,é™¤éä½ çŸ¥é“ä½ åœ¨åšä»€ä¹ˆ,ç„¶åç‚¹å‡» **ç»§ç»­**.

5.  é€‰æ‹©ä¸€ä¸ªåœ°åŒº (æˆ‘å»ºè®®åœ°ç†ä½ç½®æœ€æ¥è¿‘æ‚¨åº”ç”¨ç”¨æˆ·çš„åœ°åŒº) . 

6.  æ·»åŠ åç§°,å•å‡»**ç»§ç»­**å†æ¬¡,æœ€å**æäº¤è®¢å•**. 

7.  åˆ›å»ºæ–°æ•°æ®åº“å,ä»ä¸­é€‰æ‹©å®ƒ**MongoDB Deployments**éƒ¨åˆ†.

8.  é€‰æ‹©åˆ›å»ºç”¨æˆ·**ç”¨æˆ·**é€‰é¡¹å¡,å•å‡»**æ·»åŠ æ•°æ®åº“ç”¨æˆ·**æŒ‰é’®,æ·»åŠ ç”¨æˆ·åå’Œå¯†ç ,ç„¶åå•å‡»**åˆ›å»º**. è¿æ¥åˆ°æ•°æ®åº“éœ€è¦ç”¨æˆ·å¸æˆ·,å› æ­¤è¯·è®°ä½è¿™äº›å€¼,å› ä¸ºæ‚¨éœ€è¦å°†å®ƒä»¬ä½œä¸ºè¿æ¥å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†. 

9.  ä»é¡µé¢é¡¶éƒ¨å¤åˆ¶è¿æ¥å­—ç¬¦ä¸²,å®ƒåº”å¦‚ä¸‹æ‰€ç¤º: `mongodb://<dbuser>:<dbpassword>@ds036069.mlab.com:36069/test-asdf`å¹¶æ›¿æ¢`<dbUser>`å’Œ`<dbpassword>`ä½¿ç”¨æ‚¨åˆšåˆšåˆ›å»ºçš„å‡­æ®. å›åˆ°ä½ çš„é¡¹ç›®ä¸­,æ‰“å¼€ä½ çš„`.env`æ–‡ä»¶å’Œæ›´æ–°`MONGODB_URI`ä½¿ç”¨æ–°çš„è¿æ¥å­—ç¬¦ä¸². 

> æ³¨æ„ï¼ - å¦‚æœä½ è¿˜æ²¡æœ‰`.env`æ–‡ä»¶ï¼Œè¯·å°†`.env.example`é‡å‘½åä¸º`.env`å¹¶æŒ‰ç…§æ³¨é‡Šæ›´æ–°è¯¥æ–‡ä»¶ä¸­çš„å€¼

10. **æˆåŠŸ!** æ‚¨å¯ä»¥é€šè¿‡æ›´æ–°`MONGODB_URI_LOCAL`åˆ° æ‚¨åˆšåˆšæ›´æ–°çš„ç›¸åŒè¿æ¥å­—ç¬¦ä¸²`MONGO_URI`,æ¥æµ‹è¯•å®ƒæ˜¯å¦åœ¨æœ¬åœ°å·¥ä½œ. é‡å»º/æä¾›å,åº”ç”¨ç¨‹åºåº”è¯¥å¯ä»¥å·¥ä½œ,ä½†ä»¥å‰åœ¨æœ¬åœ°æµ‹è¯•ä¸­åˆ›å»ºçš„ç”¨æˆ·å°†ä¸ä¼šå­˜åœ¨äºæ–°æ•°æ®åº“ä¸­! åˆ«å¿˜äº†å½’è¿˜`MONGO_URI_LOCAL`åˆ°ä½ å½“åœ°çš„æµ‹è¯•æ•°æ®åº“ (å¦‚æœä½ æ„¿æ„çš„è¯) . 

## éƒ¨ç½²åˆ° Azure App Service

ä»VS Codeéƒ¨ç½² å¯ä»¥åˆ†ä¸ºä»¥ä¸‹æ­¥éª¤: 
1. åœ¨VS Codeä¸­éªŒè¯æ‚¨çš„Azureå¸æˆ·

2. æ„å»ºæ‚¨çš„åº”ç”¨ç¨‹åº 

3. ä½¿ç”¨Azure App Serviceæ‰©å±•è¿›è¡Œ Zipéƒ¨ç½²

### ç™»å½•æ‚¨çš„Azureå¸æˆ·

1.  æ‰“å¼€VS Code

2. å±•å¼€èµ„æºç®¡ç†å™¨èœå•ä¸­çš„ Azure App Serviceèœå•
    - å¦‚æœä½ æ²¡æœ‰çœ‹åˆ°è¿™ä¸ª,ä½ å¯èƒ½æ²¡æœ‰
    - æ‰©å±•å®‰è£…. `Azure App Service`è¯·å‚é˜… é¢„å¤‡å‘å¸ƒ éƒ¨åˆ†. 
3.  ç‚¹å‡»`Sign in to Azure...`
4.  é€‰æ‹©`Copy & Open`ä»ç»“æœå¯¹è¯æ¡†ä¸­
    -   è¿™å°†æ‰“å¼€`aka.ms/devicelogin`åœ¨æµè§ˆå™¨çª—å£ä¸­. å¦‚æœæ²¡æœ‰,åªéœ€æ‰‹åŠ¨å¯¼èˆªå³å¯. 
5.  ç²˜è´´åˆ°å‰ªè´´æ¿ä¸Šçš„ä»£ç ä¸­. 
6.  å›åˆ°VS Code,æ‚¨ç°åœ¨åº”è¯¥å·²ç™»å½•. æ‚¨å¯ä»¥é€šè¿‡æµè§ˆå™¨çª—å£çš„ Azure App Serviceéƒ¨åˆ†ä¸­,åˆ—å‡ºçš„ Azureè®¢é˜… æ¥ç¡®è®¤ä¸€åˆ‡æ­£å¸¸. æ­¤å¤–,æ‚¨åº”è¯¥ä¼šåœ¨ VS Codeåº•éƒ¨çš„çŠ¶æ€æ ä¸­çœ‹åˆ°ä¸æ‚¨çš„å¸æˆ·å…³è”çš„ç”µå­é‚®ä»¶. 

### æ„å»ºåº”ç”¨ç¨‹åº

åœ¨éƒ¨ç½²zipä¹‹å‰,éœ€è¦åœ¨æœ¬åœ°æ„å»ºåº”ç”¨ç¨‹åº,å› ä¸º App Service ä¸ä¼šæ‰§è¡Œæ„å»ºä»»åŠ¡. 

æŒ‰ç…§é€šå¸¸çš„æ–¹å¼æ„å»ºåº”ç”¨ç¨‹åº: - å¯åŠ¨ VS Codeä¸­çš„é»˜è®¤æ„å»º

-   `ctrl + shift + b`æ‰§è¡Œ
-   ä»ç»ˆç«¯çª—å£`npm run build`

### ä»VS Codeè¿›è¡ŒZipéƒ¨ç½²

1. ç¡®ä¿æ‚¨çš„åº”ç”¨å·²æ„å»º,æ‚¨ç›®å‰`node_modules`å’Œ`dist`æ–‡ä»¶å¤¹å°†æ˜¯éƒ¨ç½²çš„åº”ç”¨ç¨‹åº. 

2. å•å‡»èµ„æºç®¡ç†å™¨çª—å£çš„ Azure App Serviceéƒ¨åˆ†ä¸Šçš„è“è‰²å‘ä¸Šç®­å¤´ (Deploy to Web App) . 
3.  é€‰æ‹©æ•´ä¸ªé¡¹ç›®ç›®å½•. å¦‚æœæ‚¨è¿˜æ²¡æœ‰æ›´æ”¹åç§°,è¿™å°†æ˜¯`TypeScript-Node-Starter`

4. é€‰æ‹©æ‚¨æƒ³è¦å°†æ­¤åº”ç”¨ç¨‹åºä»˜è´¹çš„è®¢é˜… (ä¸ç”¨æ‹…å¿ƒ,å®ƒå°†æ˜¯å…è´¹çš„) . 

5.  é€‰æ‹© `Create New Web App`

6.  è¾“å…¥ä¸€ä¸ªå…¨çƒå”¯ä¸€çš„åç§° - è¿™å°†æ˜¯ azure ç”Ÿæˆçš„URLçš„ä¸€éƒ¨åˆ†,å› æ­¤å®ƒå¿…é¡»æ˜¯å”¯ä¸€çš„,ä½†å¦‚æœæ‚¨è®¡åˆ’ç¨åæ·»åŠ è‡ªå®šä¹‰åŸŸ,åˆ™å®ƒå¹¶ä¸é‡è¦.æˆ‘é€šå¸¸åªæ˜¯åœ¨åº”ç”¨åç§°çš„æœ«å°¾æ·»åŠ éšæœºæ•°,ä¾‹: typescript-node-starter-15121214. 

7. é€‰æ‹©èµ„æºç»„ - å¦‚æœæ‚¨ä¸çŸ¥é“è¿™æ˜¯ä»€ä¹ˆ,åªéœ€åˆ›å»ºä¸€ä¸ªæ–°èµ„æº. å¦‚æœæ‚¨æœ‰è®¸å¤šäº‘èµ„æºåº”è¯¥åœ¨é€»è¾‘ä¸Šç»„åˆåœ¨ä¸€èµ· (æƒ³æƒ³åº”ç”¨ç¨‹åºæœåŠ¡å’Œæ”¯æŒè¯¥åº”ç”¨ç¨‹åºçš„æ•°æ®åº“) ,é‚£ä¹ˆæ‚¨å¯èƒ½å¸Œæœ›å°†å®ƒä»¬æ”¾åœ¨åŒä¸€ä¸ªèµ„æºç»„ä¸­. è¿™å¯ä»¥éšåæ›´æ–°. å¦‚æœæ‚¨åˆ›å»ºæ–°èµ„æºç»„,ç³»ç»Ÿè¿˜ä¼šæç¤ºæ‚¨ä¸ºè¯¥ç»„é€‰æ‹©ä¸€ä¸ªä½ç½®. é€‰æ‹©åœ°ç†ä½ç½®é è¿‘ç”¨æˆ·æ‰€åœ¨ä½ç½®çš„åœ°æ–¹. 

8.  é€‰æ‹©`Create new App Service Plan`- åº”ç”¨æœåŠ¡è®¡åˆ’ä¸»è¦å†³å®šæ‚¨çš„åº”ç”¨è¿è¡Œç¡¬ä»¶çš„å¤§å°å’Œæˆæœ¬,ä½†å®ƒè¿˜ç®¡ç†ä¸€äº›æˆ‘ä»¬ç°åœ¨å¯ä»¥å¿½ç•¥çš„å…¶ä»–è®¾ç½®.

9.  é€‰æ‹©`B1 - Basic`è¿™ä¸ªæ˜¯å…è´¹çš„. å¦‚æœæ‚¨çŸ¥é“è‡ªå·±åœ¨åšä»€ä¹ˆ,è¯·éšæ„é€‰æ‹©æ›´å¼ºçš„å®šä»·ç­‰çº§. 

10. é€‰æ‹©ç›®æ ‡ Node ç‰ˆæœ¬ - æˆ‘ä»¬æ­£åœ¨éƒ¨ç½²åˆ°Linuxæœºå™¨,æ­¤å¤–æˆ‘ä»¬å¯ä»¥é€‰æ‹©æˆ‘ä»¬æƒ³è¦çš„ç¡®åˆ‡ Node. å¦‚æœæ‚¨ä¸çŸ¥é“è‡ªå·±æƒ³è¦ä»€ä¹ˆ,è¯·é€‰æ‹©å½“å‰LTSæ„å»ºçš„å†…å®¹. 
 
11. æ‹¿ä¸€æ¯å’–å•¡ - ä½ ä¼šçœ‹åˆ°ä½ åˆšåˆšé€‰æ‹©çš„æ‰€æœ‰ä¸œè¥¿éƒ½åœ¨è¾“å‡ºçª—å£ä¸­åˆ›å»º. æ‰€æœ‰è¿™ä¸€åˆ‡éƒ½æ˜¯ç”±[Azure CLI](https://docs.microsoft.com/en-us/cli/azure/overview?view=azure-cli-latest),å¦‚æœæ‚¨å†³å®šè¦è‡ªå®šä¹‰æ­¤è¿‡ç¨‹,å¯ä»¥è‡ªè¡Œå¤åˆ». æ­¤éƒ¨ç½²ä¸æ˜¯æœ€å¿«çš„é€‰æ‹© (ä½†å®ƒæ˜¯æœ€ç®€å•çš„!) .æˆ‘ä»¬å®é™…ä¸Š æ†ç»‘äº†é¡¹ç›®ä¸­çš„æ‰€æœ‰å†…å®¹ (åŒ…æ‹¬å¤§é‡çš„ node_modulesæ–‡ä»¶å¤¹) å¹¶å°†å…¶ä¸Šä¼ åˆ°æˆ‘ä»¬çš„Azureåº”ç”¨æœåŠ¡ä¸­. æ—¶é—´ä¼šæœ‰æ‰€ä¸åŒ,ä½†ä½œä¸ºåŸºå‡†,æˆ‘çš„éƒ¨ç½²å¤§çº¦éœ€è¦6åˆ†é’Ÿ. 

12. æ·»åŠ `NODE_ENV`ç¯å¢ƒå˜é‡ - åœ¨èµ„æºç®¡ç†å™¨çª—å£çš„"åº”ç”¨ç¨‹åºæœåŠ¡"éƒ¨åˆ†ä¸­,å±•å¼€æ–°åˆ›å»ºçš„æœåŠ¡,å³é”®å•å‡» **åº”ç”¨ç¨‹åºè®¾ç½®**, é€‰æ‹© **æ·»åŠ æ–°è®¾ç½®...**,å¹¶æ·»åŠ `NODE_ENV:production`. 
æ­¤è®¾ç½®ç¡®å®šè¦æŒ‡å‘çš„æ•°æ®åº“. å¦‚æœæ‚¨å°šæœªåˆ›å»ºäº‘æ•°æ®åº“,è¯·å‚é˜…[å®‰è£…æŒ‡å—](#mlab). 
13. å¥½äº†! å¦‚æœä¸€åˆ‡æ­£å¸¸,æ‚¨åº”è¯¥çœ‹åˆ°å¦‚ä¸‹æ‰€ç¤ºçš„é¡µé¢: [TypeScript Node Starter Demo Site](https://typescript-node-starter.azurewebsites.net/)

### æ’é™¤æ•…éšœéƒ¨ç½²

éƒ¨ç½²å¯èƒ½ç”±äºå„ç§åŸå› è€Œå¤±è´¥,å¦‚æœæ‚¨é‡åˆ°ä¸€ä¸ªè¯´æ˜çš„é¡µé¢*æš‚åœæœåŠ¡*æˆ–å…¶ä»–ä¸€äº›é”™è¯¯,[æ‰“å¼€ issue](https://github.com/Microsoft/TypeScript-Node-Starter/issues/new),æˆ‘ä¼šå°½åŠ›å¸®ä½ è§£å†³é—®é¢˜. 

# TypeScript + Node

åœ¨æ¥ä¸‹æ¥çš„å‡ èŠ‚ä¸­,æˆ‘å°†è°ƒå‡ºåœ¨å°† TypeScriptæ·»åŠ åˆ° Expressé¡¹ç›®æ—¶å‘ç”Ÿçš„æ‰€æœ‰å˜åŒ–. è¯·æ³¨æ„,æ‰€æœ‰è¿™äº›éƒ½å·²ç»ä¸ºæ­¤é¡¹ç›®è®¾ç½®äº†,ä½†å¯ä»¥å°†å…¶ç”¨ä½œ Node.jsé¡¹ç›®è½¬æ¢ä¸ºTypeScriptçš„å‚è€ƒ. 

## è·å–TypeScript

TypeScriptæœ¬èº«å¾ˆå®¹æ˜“æ·»åŠ åˆ°ä»»ä½•é¡¹ç›®ä¸­`npm`. 

    npm install -D typescript

å¦‚æœä½ æ­£åœ¨ä½¿ç”¨ VS Codeé‚£ä¹ˆä½ å¾ˆé«˜å…´! VS Codeå°†æ£€æµ‹å¹¶ä½¿ç”¨æ‚¨å®‰è£…åœ¨`node_modules`ä¸­çš„ TypeScriptç‰ˆæœ¬. å¯¹äºå…¶ä»–ç¼–è¾‘,è¯·ç¡®ä¿æ‚¨æœ‰ç›¸åº”çš„ç¼–è¾‘[TypeScript æ’ä»¶](http://www.typescriptlang.org/index.html#download-links). 

## é¡¹ç›®ç»“æ„

TypeScript + Nodeé¡¹ç›® ä¸­æœ€æ˜æ˜¾çš„åŒºåˆ«æ˜¯ æ–‡ä»¶å¤¹ç»“æ„. åœ¨TypeScripté¡¹ç›®ä¸­,æœ€å¥½åˆ†å¼€*æº-source*å’Œ *åˆ†é…-dist*æ–‡ä»¶. TypeScript (`.ts`) æ–‡ä»¶ä½åœ¨ä½ çš„`src`æ–‡ä»¶å¤¹,ç„¶åç¼–è¯‘è¾“å‡ºä¸º JavaScript (`.js`) åœ¨é‡Œé¢`dist`å¤¹. è¯¥`test`å’Œ`views`æ–‡ä»¶å¤¹æŒ‰é¢„æœŸä¿æŒæœ€é«˜æ°´å¹³. 

æ­¤åº”ç”¨ç¨‹åºçš„å®Œæ•´æ–‡ä»¶å¤¹ç»“æ„è§£é‡Šå¦‚ä¸‹: 

> **æ³¨æ„!** ç¡®ä¿æ‚¨å·²ç»ä½¿ç”¨`npm run build`æ„å»ºäº†åº”ç”¨ç¨‹åº

| åç§°                   | æè¿°                                                                           |
| -------------------- | ---------------------------------------------------------------------------- |
| **.vscode**          | åŒ…å«VS Codeç‰¹å®šè®¾ç½®                                                                |
| **dist**             | åŒ…å«TypeScriptæ„å»ºä¸­çš„å¯åˆ†å‘ (æˆ–è¾“å‡º) . è¿™æ˜¯æ‚¨å‘å¸ƒçš„ä»£ç                                          |
| **node_modules**     | åŒ…å«æ‰€æœ‰npmä¾èµ–é¡¹                                                                   |
| **src**              | åŒ…å«å°†ç¼–è¯‘åˆ°distç›®å½•çš„æºä»£ç                                                              |
| **src/config**           | Passportèº«ä»½éªŒè¯ç­–ç•¥å’Œç™»å½•ä¸­é—´ä»¶. åœ¨æ­¤æ·»åŠ å…¶ä»–å¤æ‚çš„é…ç½®ä»£ç                                           |
| **src/controllers**         | æ§åˆ¶å™¨å®šä¹‰å“åº”å„ç§httpè¯·æ±‚çš„å‡½æ•°                                                           |
| **src/models**          | æ¨¡å‹å®šä¹‰Mongooseæ¨¡å¼,ç”¨äºå­˜å‚¨å’Œæ£€ç´¢MongoDBä¸­çš„æ•°æ®                                            |
| **src/public**           | å°†åœ¨å®¢æˆ·ç«¯ä½¿ç”¨çš„é™æ€èµ„äº§                                                                 |
| **src/types**          | ä¿ç•™åœ¨DefinitelyTypedä¸Šæ‰¾ä¸åˆ°çš„.d.tsæ–‡ä»¶. åœ¨æ­¤æ›´å¤šåœ°æ¶µç›–[section](#%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89-dts-%E6%96%87%E4%BB%B6) |
| **src**/server.ts    | è¿›å…¥å¿«é€’åº”ç”¨çš„å…¥å£ç‚¹                                                                   |
| **test**               | åŒ…å«æ‚¨çš„æµ‹è¯•. ä»æºä»£ç ä¸­åˆ†ç¦»,å› ä¸ºå­˜åœ¨ä¸åŒçš„æ„å»ºè¿‡ç¨‹.                                                 |
| **views**               | è§†å›¾å®šä¹‰æ‚¨çš„åº”ç”¨åœ¨å®¢æˆ·ç«¯ä¸Šçš„å‘ˆç°æ–¹å¼. åœ¨è¿™ç§æƒ…å†µä¸‹,æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨pug                                         |
| .env.example         | APIå¯†é’¥,ä»¤ç‰Œ,å¯†ç ,æ•°æ®åº“URI. å…‹éš†è¿™ä¸ª,ä½†ä¸è¦æ£€æŸ¥å®ƒåˆ°å…¬å…±å›è´­.                                        |
| .travis.yml          | ç”¨äºé…ç½®Travis CIæ„å»º                                                              |
| .copyStaticAssets.ts | æ„å»ºå°†å›¾åƒ,å­—ä½“å’ŒJSåº“å¤åˆ¶åˆ°distæ–‡ä»¶å¤¹çš„è„šæœ¬                                                    |
| jest.config.js       | ç”¨äºé…ç½®Jest                                                                     |
| çš„package.json        | åŒ…å«npmä¾èµ–é¡¹çš„æ–‡ä»¶ä»¥åŠ[build scripts](#%E5%A6%82%E6%9E%9C%E5%BA%93%E4%B8%8D%E5%9C%A8-definitelytyped-%E4%B8%8A%E6%80%8E%E4%B9%88%E5%8A%9E)    |
| tsconfig.json        | é…ç½®ç”¨äºç¼–è¯‘ç”¨TypeScriptç¼–å†™çš„æœåŠ¡å™¨ä»£ç çš„è®¾ç½®                                                 |
| tsconfig.tests.json  | é…ç½®ç”¨äºç¼–è¯‘ç”¨TypeScriptç¼–å†™çš„æµ‹è¯•çš„è®¾ç½®                                                    |
| tslint.json          | é…ç½®TSLintä»£ç æ ·å¼æ£€æŸ¥çš„è®¾ç½®                                                            |

## å»ºç«‹é¡¹ç›®

ç°åœ¨å¾ˆå°‘æœ‰ JavaScripté¡¹ç›® æ²¡æœ‰æŸç§æ„å»ºç®¡é“,ä½†æ˜¯ Nodeé¡¹ç›®é€šå¸¸å…·æœ‰æœ€å°‘é‡çš„æ„å»ºé…ç½®. å› æ­¤,æˆ‘è¯•å›¾å°½å¯èƒ½ç®€åŒ–æ„å»º. å¦‚æœæ‚¨æ‹…å¿ƒç¼–è¯‘æ—¶é—´,ä¸»è¦ç›‘è§†ä»»åŠ¡éœ€è¦ å¤§çº¦2ç§’ æ‰èƒ½åˆ·æ–°. 

### é…ç½®TypeScriptç¼–è¯‘

TypeScriptä½¿ç”¨è¯¥æ–‡ä»¶`tsconfig.json`è°ƒæ•´é¡¹ç›®ç¼–è¯‘é€‰é¡¹. è®©æˆ‘ä»¬å‰–æä¸€ä¸‹è¿™ä¸ª`tsconfig.json`,ä»`compilerOptions`å¼€å§‹è¯¦ç»†ä»‹ç»äº†å¦‚ä½•ç¼–è¯‘é¡¹ç›®. 

```json
    "compilerOptions": {
        "module": "commonjs",
        "esModuleInterop": true,
        "target": "es6",
        "noImplicitAny": true,
        "moduleResolution": "node",
        "sourceMap": true,
        "outDir": "dist",
        "baseUrl": ".",
        "paths": {
            "*": [
                "node_modules/*",
                "src/types/*"
            ]
        }
    },
```

| `compilerOptions`            | æè¿°                                                                                                                                         |
| ---------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| `"module": "commonjs"`       | è¯¥**è¾“å‡º**æ¨¡å—ç±»å‹ (åœ¨ä½ çš„`.js`æ–‡ä»¶) . Nodeä½¿ç”¨commonjs,è¿™å°±æ˜¯æˆ‘ä»¬ä½¿ç”¨çš„                                                                                         |
| `"esModuleInterop": true,`   | å…è®¸ä½¿ç”¨å¤‡ç”¨æ¨¡å—å¯¼å…¥è¯­æ³•: `import foo from 'foo';`                                                                                                     |
| `"target": "es6"`            | è¾“å‡ºè¯­è¨€çº§åˆ«. Nodeæ”¯æŒES6,æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œå®šä½                                                                                                              |
| `"noImplicitAny": true`      | å¯ç”¨æ›´ä¸¥æ ¼çš„è®¾ç½®,å½“æŸäº›å†…å®¹å‡ºç°é»˜è®¤è®¾ç½®æ—¶ä¼šæŠ›å‡ºé”™è¯¯`any`å€¼                                                                                                           |
| `"moduleResolution": "node"` | TypeScriptå°è¯•æ¨¡ä»¿Nodeçš„æ¨¡å—è§£æç­–ç•¥. é˜…è¯»æ›´å¤š [here](https://www.typescriptlang.org/docs/handbook/module-resolution.html#node) |
| `"sourceMap": true`          | æˆ‘ä»¬å¸Œæœ›åœ¨æˆ‘ä»¬çš„JavaScriptæ—è¾¹è¾“å‡ºæºæ˜ å°„.è§éƒ¨åˆ†[è°ƒè¯•](#è°ƒè¯•)è¾“å‡ºçš„ä½ç½®                                                                                                            |
| `"outDir": "dist"`           | ç¼–è¯‘åçš„æ–‡ä»¶`.js`é…ç½®æ¨¡å—åˆ†è¾¨ç‡çš„ä¸€éƒ¨åˆ†.                                                                                                                    |
| `"baseUrl": "."`             | çœ‹åˆ°é…ç½®æ¨¡å—åˆ†è¾¨ç‡çš„ä¸€éƒ¨åˆ†. [è·¯å¾„æ˜ å°„ç« èŠ‚](#%E4%BB%8E-definitelytyped-%E5%AE%89%E8%A3%85dts))                                                          |
| `paths: {...}`               | çœ‹åˆ°æ–‡ä»¶çš„å…¶ä½™éƒ¨åˆ†å®šä¹‰TypeScripté¡¹ç›®ä¸Šä¸‹æ–‡. [è·¯å¾„æ˜ å°„ç« èŠ‚](#%E4%BB%8E-definitelytyped-%E5%AE%89%E8%A3%85dts))                                             |

é¡¹ç›®ä¸Šä¸‹æ–‡åŸºæœ¬ä¸Šæ˜¯ä¸€ç»„é€‰é¡¹,ç”¨äºç¡®å®šåœ¨ä½¿ç”¨ ç‰¹å®šçš„æ–¹æ³• è°ƒç”¨ç¼–è¯‘å™¨æ—¶ ç¼–è¯‘ å“ªäº›æ–‡ä»¶. `tsconfig.json`åœ¨è¿™ç§æƒ…å†µä¸‹,æˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹å†…å®¹æ¥å®šä¹‰é¡¹ç›®ä¸Šä¸‹æ–‡: . 

```json
    "include": [
        "src/**/*"
    ]
```

`include`æ˜¯ä¸€ç»„globæ¨¡å¼çš„æ–‡ä»¶,è¢«åŒ…å«åœ¨ç¼–è¯‘ä¸­,è¿™ä¸ªé¡¹ç›®éå¸¸ç®€å•,æ‰€æœ‰çš„.tsæ–‡ä»¶éƒ½åœ¨`src`. å¯¹äºæ›´å¤æ‚çš„è®¾ç½®,æ‚¨å¯ä»¥`exclude`ä¸€ä¸ªä¸€ç»„globæ¨¡å¼,ç”¨äºä»å®šä¹‰çš„`include`é›†åˆä¸­åˆ é™¤ç‰¹å®šæ–‡ä»¶. è¿˜æœ‰ä¸€ä¸ªé€‰é¡¹`files`,å®ƒé‡‡ç”¨ä¸€ç»„è¦†ç›–`exclude`å’Œ`include`çš„å•ä¸ªæ–‡ä»¶å. 

### è¿è¡Œæ„å»º

æ‰€æœ‰ä¸åŒçš„æ„å»ºæ­¥éª¤éƒ½æ˜¯é€šè¿‡ç¼–æ’[npm scripts](https://docs.npmjs.com/misc/scripts)æ¥åè°ƒçš„. Npmè„šæœ¬åŸºæœ¬ä¸Šå…è®¸æˆ‘ä»¬é€šè¿‡ npm è°ƒç”¨ (å’Œé“¾æ¥) ç»ˆç«¯å‘½ä»¤. è¿™å¾ˆå¥½,å› ä¸ºå¤§å¤šæ•° JavaScriptå·¥å…·éƒ½æœ‰æ˜“äºä½¿ç”¨çš„å‘½ä»¤è¡Œå®ç”¨ç¨‹åº,ä½¿æˆ‘ä»¬ä¸éœ€è¦`gruntæˆ–gulp`æ¥ç®¡ç†æˆ‘ä»¬çš„æ„å»º. å¦‚æœä½ æ‰“å¼€,ä½ ä¼šçœ‹åˆ°ä¸€ä¸ª`package.json`åŒ…å«æ‚¨å¯ä»¥è°ƒç”¨çš„æ‰€æœ‰ä¸åŒè„šæœ¬çš„`scripts`éƒ¨åˆ†. è¦è°ƒç”¨è„šæœ¬,åªéœ€è¿è¡Œå³å¯ä»å‘½ä»¤è¡Œ. `npm run <script-name>`æ‚¨ä¼šæ³¨æ„åˆ° npmè„šæœ¬å¯ä»¥ç›¸äº’è°ƒç”¨,è¿™ä½¿å¾—ä»ç®€å•çš„å•ä¸ªæ„å»ºè„šæœ¬ä¸­ç»„åˆå¤æ‚çš„æ„å»ºå˜å¾—å®¹æ˜“. ä»¥ä¸‹æ˜¯æ­¤æ¨¡æ¿å¯ç”¨çš„æ‰€æœ‰è„šæœ¬çš„åˆ—è¡¨: 

| æè¿°                   | ä¸'npm run serve'ç›¸åŒ.                                                      |
| -------------------- | ------------------------------------------------------------------------ |
| `start`              | å¯ä»¥è°ƒç”¨`npm start`                                                          |
| `build`              | å®Œæ•´çš„æ„å»º. è¿è¡Œæ‰€æœ‰æ„å»ºä»»åŠ¡ (`build-sass`,`build-ts`,`tslint`,`copy-static-assets`)  |
| `serve`              | è¿è¡ŒèŠ‚ç‚¹`dist/server.js`è¿™æ˜¯åº”ç”¨å…¥å£ç‚¹                                              |
| `watch-node`         | ä½¿ç”¨nodemonè¿è¡ŒèŠ‚ç‚¹,ä»¥ä¾¿åœ¨å´©æºƒæ—¶è¿›ç¨‹é‡æ–°å¯åŠ¨. ç”¨äºä¸»è¦ç›‘è§†ä»»åŠ¡                                     |
| `watch`              | è¿è¡Œæ‰€æœ‰ç›‘è§†ä»»åŠ¡ (TypeScript,Sass,Node) . å¦‚æœæ‚¨æ²¡æœ‰è§¦åŠé™æ€èµ„äº§,è¯·ä½¿ç”¨æ­¤é€‰é¡¹.                    |
| `test`               | ä½¿ç”¨Jestæµ‹è¯•è¿è¡Œå™¨è¿è¡Œæµ‹è¯•                                                          |
| `watch-test`         | åœ¨æ‰‹è¡¨æ¨¡å¼ä¸‹è¿è¡Œæµ‹è¯•                                                               |
| `build-ts`           | ç¼–è¯‘æ‰€æœ‰æ¥æº`.ts`æ–‡ä»¶åˆ°`.js`ä¸­çš„æ–‡ä»¶`dist`å¤¹                                           |
| `watch-ts`           | ä¸...ä¸€æ ·`build-ts`ä½†ä¸æ–­è§‚çœ‹`.ts`æ–‡ä»¶å¹¶åœ¨éœ€è¦æ—¶é‡æ–°ç¼–è¯‘                                    |
| `build-sass`         | ç¼–è¯‘æ‰€æœ‰`.scss`æ–‡ä»¶åˆ°`.css`æ¡£                                                    |
| `watch-sass`         | ä¸...ä¸€æ ·`build-sass`ä½†ä¸æ–­è§‚çœ‹`.scss`æ–‡ä»¶å¹¶åœ¨éœ€è¦æ—¶é‡æ–°ç¼–è¯‘                                |
| `tslint`             | åœ¨é¡¹ç›®æ–‡ä»¶ä¸Šè¿è¡ŒTSLint                                                           |
| `copy-static-assets` | è°ƒç”¨å°†JSåº“,å­—ä½“å’Œå›¾åƒå¤åˆ¶åˆ°distç›®å½•çš„è„šæœ¬                                                 |
| `debug`              | æ‰§è¡Œå®Œæ•´ç‰ˆæœ¬,ç„¶åä»¥è§‚å¯Ÿæ¨¡å¼æä¾›åº”ç”¨ç¨‹åº                                                     |
| `serve-debug`        | ä½¿ç”¨--inspectæ ‡å¿—è¿è¡Œåº”ç”¨ç¨‹åº                                                      |
| `watch-debug`        | åŒæ ·çš„`watch`ä½†åŒ…æ‹¬--inspectæ ‡å¿—,ä»¥ä¾¿æ‚¨å¯ä»¥é™„åŠ è°ƒè¯•å™¨                                      |

## ç±»å‹å®šä¹‰ (`.d.ts`) æ–‡ä»¶

TypeScriptä½¿ç”¨`.d.ts`æä¾› æœªä½¿ç”¨TypeScriptç¼–å†™çš„JavaScriptåº“ç±»å‹çš„æ–‡ä»¶. è¿™å¾ˆæ£’,å› ä¸ºä¸€æ—¦ä½ æœ‰äº†`.d.ts`æ–‡ä»¶,TypeScriptå¯ä»¥ç±»å‹æ£€æŸ¥è¯¥åº“,å¹¶åœ¨ç¼–è¾‘å™¨ä¸­ä¸ºæ‚¨æä¾›æ›´å¥½çš„å¸®åŠ©. TypeScriptç¤¾åŒºä¸»åŠ¨åˆ†äº«æ‰€æœ‰æœ€æ–°çš„`.d.ts`,æ—¶ GitHubå­˜å‚¨åº“çš„æµè¡Œåº“çš„æ–‡ä»¶åä¸º[DefinitelyTyped](https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types). ç¡®ä¿ä½ çš„`.d.ts`æ­£ç¡®è®¾ç½®æ–‡ä»¶éå¸¸é‡è¦,å› ä¸ºä¸€æ—¦å®ƒä»¬åˆ°ä½,æ‚¨å°±å¯ä»¥å…è´¹è·å¾—å¤§é‡é«˜è´¨é‡çš„ç±»å‹æ£€æŸ¥ (ä»¥åŠé”™è¯¯æ•è·,IntelliSense å’Œ å…¶ä»–ç¼–è¾‘å™¨å·¥å…·) . 

> **æ³¨æ„!** å› ä¸ºæˆ‘ä»¬æ­£åœ¨ä½¿ç”¨`"noImplicitAny": true`,æˆ‘ä»¬è¦æ±‚æˆ‘ä»¬ä½¿ç”¨çš„ **ä¸€åˆ‡** åº“éƒ½æœ‰ä¸€ä¸ª`.d.ts` . è™½ç„¶ä½ å¯ä»¥è®¾ç½®`noImplicitAny`è‡³`false`æ²‰é»˜äº†å…³äº`.d.ts`æ–‡ä»¶å¤±è¸ªé”™è¯¯. ä½†æœ€å¥½çš„åšæ³•æ˜¯æ¯ä¸ªåº“éƒ½æœ‰`.d.ts`æ–‡ä»¶.  (å³ä½¿æ˜¯`.d.ts`æ–‡ä»¶æ˜¯[åŸºæœ¬ æ²¡æœ‰!](#%E5%86%99%E4%B8%80%E4%B8%AAdts%E6%96%87%E4%BB%B6)

### ä» DefinitelyTyped å®‰è£…`.d.ts`

åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹,åœ¨ DefinitelyTyped ä¸Šä½ ä¼šå‘ç°æ‚¨ä½¿ç”¨çš„åº“çš„`.d.ts`æ–‡ä»¶. è¿™äº›`.d.ts`ä½¿ç”¨`@types`å¯ä»¥è½»æ¾å®‰è£…åˆ°é¡¹ç›®ä¸­. ä¾‹å¦‚,å¦‚æœæˆ‘ä»¬æƒ³è¦jQueryçš„`.d.ts`,æˆ‘ä»¬å¯ä»¥è¿™æ ·åš`npm install --save-dev @types/jquery`. 

> **æ³¨æ„!**ä¸€å®šè¦æ·»åŠ `--save-dev` (è¦ä¹ˆ`-D`) åˆ°ä½ çš„`npm install`. `.d.ts`æ–‡ä»¶æ˜¯é¡¹ç›®ä¾èµ–é¡¹,ä½†ä»…åœ¨ç¼–è¯‘æ—¶ä½¿ç”¨,å› æ­¤åº”è¯¥æ˜¯ devä¾èµ–é¡¹. 

åœ¨è¿™ä¸ªæ¨¡æ¿ä¸­,æ‰€æœ‰çš„`.d.ts`æ–‡ä»¶å·²æ·»åŠ åˆ°`devDependencies`åœ¨`package.json`,è¿™æ ·ä½ å°±å¯ä»¥åœ¨è¿è¡Œ`npm install`åèƒ½è·å¾—æ‰€éœ€çš„ä¸€åˆ‡. ä¸€æ—¦`.d.ts`æ–‡ä»¶å·²ç»å®‰è£…,å®ƒä»¬ä¼šåœ¨`node_modules/@types`. ç¼–è¯‘å™¨å°†å§‹ç»ˆåœ¨æ­¤æ–‡ä»¶å¤¹ä¸­æŸ¥æ‰¾`.d.ts`å½“ è§£æJavaScriptåº“æ—¶çš„æ–‡ä»¶. 

### å¦‚æœåº“ä¸åœ¨ DefinitelyTyped ä¸Šæ€ä¹ˆåŠ?

å¦‚æœæ‚¨å°è¯•å®‰è£…`.d.ts`æ¥è‡ªçš„æ–‡ä»¶`@types`å¹¶ä¸”æ‰¾ä¸åˆ°å®ƒ,æˆ–è€…æ‚¨æ£€æŸ¥DefinitelyTyped å¹¶ä¸”æ‰¾ä¸åˆ°ç‰¹å®šçš„åº“,æ‚¨å°†éœ€è¦åˆ›å»ºè‡ªå·±çš„`.d.ts`åœ¨`src`,ä½ ä¼šæ‰¾åˆ°çš„`types`æ–‡ä»¶å¤¹æœ‰`.d.ts`ä¸”ä¸åœ¨ DefinitelyTypedä¸Š (æˆ–è€…åœ¨æ’°å†™æœ¬æ–‡æ—¶å°šæœªå‡ºç°) . 

#### è®¾ç½®TypeScript è¦æŸ¥æ‰¾çš„`.d.ts`æ˜¯åœ¨å¦ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­

ç¼–è¯‘å™¨çŸ¥é“è¦æŸ¥çœ‹`node_modules/@types`é»˜è®¤æƒ…å†µä¸‹,ä¸ºäº†å¯ä»¥å¸®åŠ©ç¼–è¯‘å™¨æ‰¾åˆ°æˆ‘ä»¬è‡ªå·±çš„`.d.ts`,æˆ‘ä»¬å¿…é¡»åœ¨`tsconfig.json`ä¸­é…ç½®è·¯å¾„æ˜ å°„. è·¯å¾„æ˜ å°„å¯èƒ½ä¼šè®©äººæ„Ÿåˆ°å›°æƒ‘, ä½†åŸºæœ¬æ€è·¯æ˜¯ TypeScriptç¼–è¯‘å™¨ åœ¨ è§£ææ¨¡å—æ—¶ ä¼šæŒ‰ ç‰¹å®šé¡ºåº æŸ¥çœ‹ ç‰¹å®šä½ç½®,å¹¶ä¸”æˆ‘ä»¬èƒ½å¤Ÿå‘Šè¯‰ç¼–è¯‘å™¨ç¡®åˆ‡çš„æ“ä½œæ–¹æ³•. æ­¤é¡¹ç›®`tsconfig.json`ä¸­,ä½ ä¼šçœ‹åˆ°ä»¥ä¸‹å†…å®¹: 

```json
"baseUrl": ".",
"paths": {
    "*": [
        "node_modules/*",
        "src/types/*"
    ]
}
```

è¿™å‘Šè¯‰ TypeScriptç¼–è¯‘å™¨,æ¯æ¬¡è¿›æ¥ (`*`) é™¤äº†æŸ¥çœ‹`node_modules/@types`,ä¹Ÿçœ‹æˆ‘ä»¬è‡ªå·±`.d.ts`æ–‡ä»¶ä½ç½®`<baseUrl>`+`src/types/*`. æ‰€ä»¥å½“æˆ‘ä»¬å†™ä¸‹è¿™æ ·çš„ä¸œè¥¿: 

```ts
import * as flash from "express-flash";
```

é¦–å…ˆ,ç¼–è¯‘å™¨å°†å¯»æ‰¾ä¸€ä¸ª`d.ts`åœ¨`node_modules/@types`,ç„¶åå½“å®ƒæ²¡æœ‰æ‰¾åˆ°,å®ƒçœ‹`src/types`å¹¶æ‰¾åˆ°æˆ‘ä»¬çš„æ–‡ä»¶`express-flash.d.ts`. 

#### ä½¿ç”¨`dts-gen`

é™¤éä½ ç†Ÿæ‚‰`.d.ts`æ–‡ä»¶,æˆ‘å¼ºçƒˆå»ºè®®å°è¯•ä½¿ç”¨è¯¥[dts-gen](https://github.com/Microsoft/dts-gen)å…ˆ. è¯¥[README](https://github.com/Microsoft/dts-gen#dts-gen-a-typescript-definition-file-generator)å¾ˆå¥½åœ°è§£é‡Šäº†å¦‚ä½•ä½¿ç”¨è¯¥å·¥å…·,å¹¶ä¸”åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹,æ‚¨å°†è·å¾—ä¸€ä¸ªä¼˜ç§€çš„`.d.ts`æ¨¡ç‰ˆæ–‡ä»¶å¼€å¤´. åœ¨è¿™ä¸ªé¡¹ç›®ä¸­,`bcrypt-nodejs.d.ts`,`fbgraph.d.ts`,å’Œ`lusca.d.ts`éƒ½æ˜¯ä½¿ç”¨`dts-gen`ç”Ÿæˆçš„. 

#### å†™ä¸€ä¸ª`.d.ts`æ–‡ä»¶

å¦‚æœä½¿ç”¨`dts-gen`ç”Ÿæˆä¸€ä¸ª`.d.ts`ä¸å·¥ä½œ,[é‚£ä¹ˆä½ åº”è¯¥å‘Šè¯‰æˆ‘](https://www.surveymonkey.com/r/LN2CV82),ä½†æ˜¯ä½ å¯ä»¥åˆ›å»ºè‡ªå·±çš„`.d.ts`æ–‡ä»¶. 

å¦‚æœæ‚¨åªæƒ³æš‚æ—¶ä½¿ç¼–è¯‘å™¨é™éŸ³,è¯·åˆ›å»ºä¸€ä¸ªåä¸º`<some-library>.d.ts`æ–‡ä»¶,åœ¨ä½ çš„`types`æ–‡ä»¶å¤¹,å’Œæ·»åŠ ä»¥ä¸‹ä»£ç è¡Œ: 

```ts
declare module "<some-library>";
```

å¦‚æœä½ æƒ³æŠ•å…¥ä¸€äº›æ—¶é—´æ¥åˆ›é€ ä¸€ä¸ªä¼Ÿå¤§çš„`.d.ts`æ–‡ä»¶,å°†ä¸ºæ‚¨æä¾›å‡ºè‰²çš„ ç±»å‹æ£€æŸ¥å’Œ æ™ºèƒ½è¾“å…¥,TypeScript ç½‘ç«™éå¸¸æ£’çš„[å†™ä½œ `.d.ts`](http://www.typescriptlang.org/docs/handbook/declaration-files/introduction.html). 

#### è´¡çŒ®äºDefinitelyTyped

å®ƒå¾ˆå®¹æ˜“å˜å¾—å¾ˆæ£’çš„åŸå› ,æ˜¯å¤§å¤šæ•°åº“çš„æ–‡ä»¶åƒä½ è¿™æ ·çš„å¼€å‘äººå‘˜,å°†ä»–ä»¬çš„å·¥ä½œè´¡çŒ®ç»™ DefinitelyTyped. è´¡çŒ®`.d.ts`æ–‡ä»¶æ˜¯è¿›å…¥å¼€æºç¤¾åŒºçš„å¥½æ–¹æ³•,å¦‚æœå®ƒæ˜¯æ‚¨ä»¥å‰ä»æœªå°è¯•è¿‡çš„ä¸œè¥¿,å¹¶ä¸”åªè¦æ‚¨çš„æ›´æ”¹è¢«æ¥å—,ä¸–ç•Œä¸Šçš„æ¯ä¸ªå…¶ä»–å¼€å‘äººå‘˜éƒ½å¯ä»¥è®¿é—®æ‚¨çš„å·¥ä½œ. `.d.ts`

å¦‚æœä½ æœ‰å…´è¶£è¯•ä¸€è¯•,è¯·æŸ¥çœ‹[DefinitelyTyped å…¥é—¨](https://github.com/definitelyTyped/DefinitelyTyped/#how-can-i-contribute)
å¦‚æœä½ ä¸æ„Ÿå…´è¶£,[ä½ å¯ä»¥å‘Šè¯‰ why](https://www.surveymonkey.com/r/LN2CV82),ä»¥æ­¤æˆ‘ä»¬å¯ä»¥å¸®åŠ©å°†æ¥æ›´è½»æ¾!

### ç®¡ç†`.d.ts`çš„æ€»ç»“

ä¸€èˆ¬æ¥è¯´,å¦‚æœä½ åšæŒä»¥ä¸‹æ­¥éª¤,ä½ åº”è¯¥æœ‰æœ€å°çš„`.d.ts`é—®é¢˜;

1. åœ¨å®‰è£…ä»»ä½• npmè½¯ä»¶åŒ… ä½œä¸º ä¾èµ–é¡¹æˆ–devä¾èµ–é¡¹ å,ç«‹å³å°è¯•å®‰è£…`.d.ts`é€šè¿‡`@types`

2. å¦‚æœ åº“ æœ‰`.d.ts`åœ¨DefinitelyTypedä¸Š,å®‰è£…å°†æˆåŠŸ,ä½ å°±å®Œæˆäº†
å¦‚æœç”±äºç¨‹åºåŒ…ä¸å­˜åœ¨è€Œå¯¼è‡´å®‰è£…å¤±è´¥,è¯·ç»§ç»­æ‰§è¡Œæ­¥éª¤3. 

3. ç¡®ä¿é¡¹ç›®æ˜¯è·Ÿç€[è‡ªå®šä¹‰ `d.ts` é…ç½® å¦ä¸€ä¸ªæ–‡ä»¶å¤¹](#%E8%AE%BE%E7%BD%AEtypescript-%E8%A6%81%E6%9F%A5%E6%89%BE%E7%9A%84dts%E6%98%AF%E5%9C%A8%E5%8F%A6%E4%B8%80%E4%B8%AA%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%AD).

4. å°è¯• [ç”¨ dts-gen ç”Ÿæˆ `.d.ts`](#%E4%BD%BF%E7%94%A8dts-gen)
å¦‚æœæˆåŠŸ,ä½ å°±å®Œæˆäº†. å¦‚æœæ²¡æœ‰,è¯·ç»§ç»­æ‰§è¡Œæ­¥éª¤5. 

5. åˆ›å»ºä¸€ä¸ªåä¸º`<some-library>.d.ts`çš„æ–‡ä»¶åœ¨ä½ çš„`types`é—®ä»·å¤¹. 

6. æ·»åŠ ä»¥ä¸‹ä»£ç : 

```ts
declare module "<some-library>";
```

7.  æ­¤æ—¶,æ‰€æœ‰å†…å®¹éƒ½åº”è¯¥ç¼–è¯‘è€Œæ²¡æœ‰é”™è¯¯,æ‚¨å¯ä»¥æ”¹è¿›`.d.ts`ä¸­çš„ç±»å‹æŒ‰ç…§[å†™ä½œ `.d.ts` ](http://www.typescriptlang.org/docs/handbook/declaration-files/introduction.html)æˆ– ç»§ç»­æ²¡æœ‰ç±»å‹. 

8. å¦‚æœæ‚¨ä»ç„¶é‡åˆ°é—®é¢˜,è¯·é€šè¿‡å‘é€ç”µå­é‚®ä»¶æˆ–åœ¨Twitterä¸Šå‘Šè¯‰æˆ‘æ¥å‘Šè¯‰æˆ‘,æˆ‘ä¼šå¸®åŠ©æ‚¨. 

##  è°ƒè¯•

è°ƒè¯•TypeScript å°±åƒ è°ƒè¯•JavaScriptä¸€æ ·,æœ‰ä¸ªè­¦å‘Š,ä½ éœ€è¦æºæ˜ å°„. 

### æºæ˜ å°„ 

æºæ˜ å°„å…è®¸æ‚¨åœ¨ TypeScriptæºä»£ç  ä¸­æ–­ç‚¹,å¹¶ä½¿è¯¥æ–­ç‚¹å‘½ä¸­,å½“ è¿è¡Œæ—¶æ­£åœ¨æ‰§è¡Œåˆ°çš„JavaScript. 


> **æ³¨æ„!** - æºæ˜ å°„ä¸æ˜¯ç‰¹å®šäº TypeScriptçš„ 

ä»»ä½•æ—¶å€™ JavaScriptéƒ½è¢«è½¬æ¢ (è½¬æ¢,ç¼–è¯‘,ä¼˜åŒ–,ç¼©å°ç­‰) ,ä½ éƒ½éœ€è¦æºæ˜ å°„,ä»¥ä¾¿åœ¨è¿è¡Œæ—¶æ‰§è¡Œçš„ä»£ç å¯ä»¥æ˜¯*æ˜ å°„*å›åˆ°ç”Ÿæˆå®ƒçš„æºå¤´. 

æºæ˜ å°„çš„æœ€ä½³éƒ¨åˆ†æ˜¯åœ¨æ­£ç¡®é…ç½®å,æ‚¨ç”šè‡³ä¸çŸ¥é“å®ƒä»¬å­˜åœ¨! é‚£ä¹ˆè®©æˆ‘ä»¬æ¥çœ‹çœ‹æˆ‘ä»¬åœ¨è¿™ä¸ªé¡¹ç›®ä¸­å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹. 

#### é…ç½®æºæ˜ å°„

é¦–å…ˆ,ä½ éœ€è¦ç¡®ä¿ä½ çš„å·²å¯ç”¨æºåœ°å›¾ç”Ÿæˆ: `tsconfig.json`

```json
"compilerOptions" {
    "sourceMap": true
} 
```

å¯ç”¨æ­¤é€‰é¡¹å,TypeScriptç¼–è¯‘å™¨è¾“å‡ºä¸€ä¸ª`.js`æ–‡ä»¶,åŒæ—¶è¾“å‡ºä¸€ä¸ª`.map.js`.è¿™ä¸ª`.map.js`æä¾›è°ƒè¯•æ—¶ æ˜ å°„å› æº`.ts`æ–‡ä»¶. 

> **æ³¨æ„!**. - ä¹Ÿå¯ä»¥ç”Ÿæˆ"å†…è”-inline"æºæ˜ å°„,é€šè¿‡`"inlineSourceMap": true`

è¿™åœ¨ç¼–å†™å®¢æˆ·ç«¯ä»£ç æ—¶æ›´å¸¸è§,å› ä¸ºæŸäº›æ†ç»‘å™¨éœ€è¦ å†…è”æºæ˜ å°„ æ¥ä¿ç•™é€šè¿‡æ†ç»‘çš„æ˜ å°„. å› ä¸ºæˆ‘ä»¬æ­£åœ¨ç¼–å†™ Node.jsä»£ç ,æ‰€ä»¥æˆ‘ä»¬ä¸å¿…æ‹…å¿ƒè¿™ä¸€ç‚¹. 

### åœ¨VS Codeä¸­ä½¿ç”¨è°ƒè¯•å™¨

è°ƒè¯•æ˜¯VS CodeçœŸæ­£ä¼˜äºå…¶ä»–ç¼–è¾‘å™¨çš„åœ°æ–¹ä¹‹ä¸€. 

VS Codeä¸­çš„Node.jsè°ƒè¯•å¾ˆå®¹æ˜“è®¾ç½®,ç”šè‡³æ›´å®¹æ˜“ä½¿ç”¨. è¯¥é¡¹ç›®é¢„å…ˆé…ç½®äº† æ‚¨å¼€å§‹ä½¿ç”¨ æ‰€éœ€çš„ä¸€åˆ‡. 

å½“ä½ å‡»ä¸­`F5`åœ¨VS Codeä¸­,å®ƒå¯»æ‰¾é¡¶çº§`.vscode`çš„`launch.json`æ–‡ä»¶. åœ¨æ­¤æ–‡ä»¶ä¸­,æ‚¨å¯ä»¥å‡†ç¡®åœ°å‘Šè¯‰ VS Codeæ‚¨è¦æ‰§è¡Œçš„æ“ä½œ: 

```json
{
    "type": "node",
    "request": "attach",
    "name": "Attach by Process ID",
    "processId": "${command:PickProcess}",
    "protocol": "inspector"
}
```

è¿™ä¸"Node.js: Attach by Process ID"æ¨¡æ¿å¤§è‡´ç›¸åŒ,åªæœ‰ä¸€ä¸ªå°çš„æ›´æ”¹. 

æˆ‘ä»¬è¡¥å……`"protocol": "inspector"`,å‘Šè¯‰VS Codeæˆ‘ä»¬æ­£åœ¨ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„Node,å®ƒä½¿ç”¨æ–°çš„è°ƒè¯•åè®®. 

æœ‰äº†è¿™ä¸ªæ–‡ä»¶,ä½ å¯ä»¥ç‚¹å‡»`F5`å»é™„åŠ è°ƒè¯•å™¨. æ‚¨å¯èƒ½ä¼šè¿è¡Œå¤šä¸ªèŠ‚ç‚¹è¿›ç¨‹,å› æ­¤æ‚¨éœ€è¦æ‰¾åˆ°æ˜¾ç¤º`node dist/server.js`çš„è¿›ç¨‹. ç°åœ¨åªéœ€è®¾ç½®æ–­ç‚¹å³å¯!

## æµ‹è¯•

å¯¹äºè¿™ä¸ªé¡¹ç›®,æˆ‘é€‰æ‹©äº†

ä½œä¸ºæˆ‘ä»¬çš„æµ‹è¯•æ¡†æ¶. [Jest](https://facebook.github.io/jest/)è™½ç„¶Mocha å¯èƒ½æ›´å¸¸è§,ä½† Mocha ä¼¼ä¹æ­£åœ¨å¯»æ‰¾æ–°çš„ç»´æŠ¤è€…,å¹¶ä¸”åœ¨Jestä¸­è®¾ç½®TypeScriptæµ‹è¯• å¾ˆç®€å•. 

### å®‰è£…ç»„ä»¶

è¦æ·»åŠ  TypeScript + Jest æ”¯æŒ,è¯·å…ˆå®‰è£…å‡ ä¸ªnpmåŒ…: 

    npm install -D jest ts-jest

`jest`æ˜¯æµ‹è¯•æ¡†æ¶æœ¬èº«,å’Œ`ts-jest`åªæ˜¯ä¸€ä¸ªç®€å•çš„å‡½æ•°,ä½¿è¿è¡Œ TypeScriptæµ‹è¯•æ›´å®¹æ˜“ä¸€äº›. 

### é…ç½®Jest

Jestçš„é…ç½®å­˜åœ¨äº`jest.config.js`,è®©æˆ‘ä»¬æ‰“å¼€å®ƒå¹¶æ·»åŠ ä»¥ä¸‹ä»£ç : 

```js
module.exports = {
	globals: {
		'ts-jest': {
			tsConfigFile: 'tsconfig.json'
		}
	},
	moduleFileExtensions: [
		'ts',
		'js'
	],
	transform: {
		'^.+\\.(ts|tsx)$': './node_modules/ts-jest/preprocessor.js'
	},
	testMatch: [
		'**/test/**/*.test.(ts|js)'
	],
	testEnvironment: 'node'
};
```

åŸºæœ¬ä¸Šæˆ‘ä»¬å‘Šè¯‰ Jest æˆ‘ä»¬å¸Œæœ›å®ƒ,ä½¿ç”¨ æ¨¡å¼åŒ¹é… `"**/test/**/*.test.(ts|js)"` (æ‰€æœ‰`.test.ts`/`.test.js`æ–‡ä»¶åœ¨`test`æ–‡ä»¶å¤¹),ä½†æ˜¯æˆ‘ä»¬æƒ³å…ˆé¢„å…ˆå¤„ç†`.ts`æ–‡ä»¶ã€‚
è¿™ä¸ªé¢„å¤„ç†æ­¥éª¤éå¸¸çµæ´»ï¼Œä½†åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åªæƒ³ä½¿ç”¨`tsconfig.json`å°†TypeScript ç¼–è¯‘ä¸º JavaScriptã€‚
è¿™ä¸€åˆ‡éƒ½å‘ç”Ÿåœ¨è¿è¡Œæµ‹è¯•çš„å†…å­˜ä¸­ï¼Œå› æ­¤æ²¡æœ‰è¾“å‡º`.js`æµ‹è¯•æ–‡ä»¶ä¾›æ‚¨ç®¡ç†ã€‚

### è¿è¡Œæµ‹è¯•

ç®€å•åœ°`npm run test`è¯·æ³¨æ„,è¿™ä¹Ÿå°†ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š. 

### å†™æµ‹è¯•

Webåº”ç”¨ç¨‹åºç¼–å†™æµ‹è¯•æœ‰ ä¸“é—¨çš„ä¹¦ç± å’Œ æœ€ä½³å®è·µ å—åˆ°ä¸ªäººé£æ ¼çš„å¼ºçƒˆå½±å“,æ‰€ä»¥æˆ‘æ•…æ„é¿å… åœ¨æœ¬æŒ‡å—ä¸­ è®¨è®º å¦‚ä½•æˆ–ä½•æ—¶ ç¼–å†™æµ‹è¯•. ä½†æ˜¯,å¦‚æœ æµ‹è¯•çš„è¯´æ˜æ€§æŒ‡å¯¼ æ˜¯æ‚¨æ„Ÿå…´è¶£çš„[let me know](https://www.surveymonkey.com/r/LN2CV82),æˆ‘ä¼šåšä¸€äº›åŠŸè¯¾,ç„¶åå†å›å¤ä½ . 

## TSLint

TSLintæ˜¯ä¸€ä¸ªä»£ç è§„èŒƒå™¨,ä¸»è¦å¸®åŠ©æ•è· æ¬¡è¦çš„ä»£ç è´¨é‡å’Œæ ·å¼é—®é¢˜. TSLintä¸ESLintæˆ–JSLintéå¸¸ç›¸ä¼¼,ä½†æ˜¯åœ¨æ„å»ºæ—¶è€ƒè™‘äº†TypeScript. 


### TSLintè§„åˆ™

ä¸ å¤§å¤šæ•°è§„èŒƒ ä¸€æ ·,TSLintå…·æœ‰ä¸€ç³»åˆ—å¯é…ç½®çš„è§„åˆ™ä»¥åŠå¯¹è‡ªå®šä¹‰è§„åˆ™é›†çš„æ”¯æŒ. æ‰€æœ‰è§„åˆ™éƒ½é€šè¿‡`tslint.json`é…ç½®ã€‚
åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€å¥—ç›¸å½“åŸºæœ¬çš„è§„åˆ™ï¼Œæ²¡æœ‰å…¶ä»–è‡ªå®šä¹‰è§„åˆ™ã€‚
è¿™äº›è®¾ç½®ä¸»è¦åŸºäºæˆ‘ä»¬ç”¨äº å¼€å‘TypeScriptæœ¬èº« çš„ TSLint è®¾ç½®ã€‚

### è¿è¡ŒTSLint

ä¸æˆ‘ä»¬çš„å…¶ä»–æ„å»ºæ­¥éª¤ä¸€æ ·,æˆ‘ä»¬ä½¿ç”¨ npmè„šæœ¬ æ¥è°ƒç”¨ TSLint.è¦è¿è¡Œ TSLint,æ‚¨å¯ä»¥è°ƒç”¨ ä¸»æ„å»ºè„šæœ¬ æˆ– ä»…è°ƒç”¨ TSLint ä»»åŠ¡. 

è¯·æ³¨æ„,TSLint ä¸æ˜¯ä¸»è¦ç›‘è§†ä»»åŠ¡çš„ä¸€éƒ¨åˆ†. åœ¨ç¼–å†™å‡½æ•°çš„è¿‡ç¨‹ä¸­,TSLintä¼šä½¿ è¾“å‡ºçª—å£æ··ä¹±,è¿™å¯èƒ½å¾ˆçƒ¦äºº,å› æ­¤æˆ‘é€‰æ‹© ä»… åœ¨å®Œæ•´æ„å»ºæœŸé—´ è¿è¡Œå®ƒ. 

    npm run build   // runs full build including TSLint
    npm run tslint  // runs only TSLint

å¦‚æœæ‚¨æœ‰å…´è¶£å°½å¿«çœ‹åˆ° TSLintåé¦ˆ,æˆ‘å¼ºçƒˆæ¨è[TSLint æ‰©å±• - VS Code](<>). 

### VSCodeæ‰©å±•

ä¸ºäº†åœ¨ VSCode ä¸­å·¥ä½œæ—¶å¢å¼ºæ‚¨çš„å¼€å‘ä½“éªŒ,æˆ‘ä»¬è¿˜ä¸ºæ‚¨æä¾›äº†ä½¿ç”¨æ­¤é¡¹ç›®çš„å»ºè®®æ‰©å±•åˆ—è¡¨: 

![VSCode æ‰©å±• å»ºè®® ](https://user-images.githubusercontent.com/14539/34583539-6f290a30-f198-11e7-8804-30f40d418e20.png)

-   [TSLint](https://marketplace.visualstudio.com/items?itemName=eg2.tslint)
-   [Code Spell Checker](https://marketplace.visualstudio.com/items?itemName=streetsidesoftware.code-spell-checker)
-   [Azure Cosmos DB](https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-cosmosdb)
-   [Azure App Service](https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-azureappservice)

# ä¾èµ–

ä¾èµ–æ€§é€šè¿‡ç®¡ç†`package.json`. åœ¨è¯¥æ–‡ä»¶ä¸­,æ‚¨å°†æ‰¾åˆ°ä¸¤ä¸ªéƒ¨åˆ†: 

## `dependencies`

| Package                | æè¿°                      |
| --------------------- | ----------------------- |
| async                  | æä¾›å¼‚æ­¥æ§åˆ¶æµçš„å®ç”¨ç¨‹åºåº“.          |
| bcrypt-nodejs          | ç”¨äºæ•£åˆ—å’Œè…Œåˆ¶ç”¨æˆ·å¯†ç çš„åº“.          |
| bluebird               | æ‰¿è¯ºå›¾ä¹¦é¦†                   |
| body-parser            | Express 4ä¸­é—´ä»¶.           |
| compression            | Express 4ä¸­é—´ä»¶.           |
| connect-mongo          | ç”¨äºExpressçš„MongoDBä¼šè¯å­˜å‚¨.  |
| dotenv                 | ä».envæ–‡ä»¶åŠ è½½ç¯å¢ƒå˜é‡.          |
| errorhandler           | Express 4ä¸­é—´ä»¶.           |
| express                | Node.js webæ¡†æ¶.          |
| express-flash           | ä¸ºExpressæä¾›Flashæ¶ˆæ¯.      |
| express-session        | Express 4ä¸­é—´ä»¶.           |
| express-validator      | Expressçš„ç®€å•è¡¨å•éªŒè¯.         |
| fbgraph                | Facebook Graph APIåº“.    |
| lodash                 | é€šç”¨å®ç”¨ç¨‹åºåº“.                |
| lusca                  | CSRFä¸­é—´ä»¶.                |
| mongoose               | MongoDB ODM.            |
| nodemailer             | ç”¨äºå‘é€ç”µå­é‚®ä»¶çš„Node.jsåº“.      |
| passport               | node.jsçš„ç®€å•è€Œä¼˜é›…çš„èº«ä»½éªŒè¯åº“     |
| passport-facebook      | ä½¿ç”¨Facebookæ’ä»¶ç™»å½•.         |
| passport-local         | ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç æ’ä»¶ç™»å½•.           |
| pug (jade)             | Expressçš„æ¨¡æ¿å¼•æ“.           |
| request                | ç®€åŒ–çš„HTTPè¯·æ±‚åº“.             |
| request-promise        | Promisified HTTPè¯·æ±‚åº“.    |
| winston                | è®°å½•åº“                     |

## `devDependencies`

| Package                | æè¿°                                     |
| --------- | -------------------------------------- |
| @types                 | æ­¤æ–‡ä»¶å¤¹ä¸­çš„ä¾èµ–é¡¹æ˜¯`.d.ts`ç”¨äºæä¾›ç±»å‹çš„æ–‡ä»¶             |
| chai                   | æµ‹è¯•å®ç”¨ç¨‹åºåº“,ä½¿ç¼–å†™æµ‹è¯•æ›´å®¹æ˜“                       |
| concurrently           | ç®¡ç†å¤šä¸ªå¹¶å‘ä»»åŠ¡çš„å®ç”¨ç¨‹åº. ä¸npmè„šæœ¬ä¸€èµ·ä½¿ç”¨              |
| jest                   | æµ‹è¯•JavaScriptçš„åº“.                        |
| node-sass              | å…è®¸å°†.scssæ–‡ä»¶ç¼–è¯‘ä¸º.css                      |
| nodemon                | åœ¨å´©æºƒæ—¶è‡ªåŠ¨é‡å¯èŠ‚ç‚¹è¿›ç¨‹çš„å®ç”¨ç¨‹åº                      |
| supertest              | HTTPæ–­è¨€åº“.                               |
| ts-jest                | å…·æœ‰æºæ˜ å°„æ”¯æŒçš„é¢„å¤„ç†å™¨,ä»¥å¸®åŠ©ä½¿ç”¨å¸¦æœ‰Jestçš„TypeScript.   |
| ts-node                | å…è®¸ç›´æ¥è¿è¡ŒTSæ–‡ä»¶. ç”¨æ¥è·‘`copy-static-assets.ts` |
| tslint                 | TypeScriptæ–‡ä»¶çš„Linter (ç±»ä¼¼äºESLint)        |
| typescript             | JavaScriptç¼–è¯‘å™¨/ç±»å‹æ£€æŸ¥å™¨,å¯æé«˜JavaScriptç”Ÿäº§åŠ›   |

è¦å®‰è£…æˆ–æ›´æ–°è¿™äº›ä¾èµ–é¡¹,æ‚¨å¯ä»¥ä½¿ç”¨`npm install`è¦ä¹ˆ`npm update`. 

# é»‘å®¢é©¬æ‹‰æ¾ å…¥é—¨é¡¹ç›®

è¿™ä¸ªå¿«é€Ÿå…¥é—¨çš„å¤§éƒ¨åˆ†å†…å®¹ éƒ½æ˜¯ä» Sahatçš„ä¼˜ç§€å†…å®¹ä¸­ è·å¾—å¯å‘æˆ–æ”¹ç¼–â€‹â€‹çš„[Hackathon Starter project](https://github.com/sahat/hackathon-starter). 
